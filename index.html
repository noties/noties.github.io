<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Di's blog</title>
  <link rel="icon" sizes="32x32" type="images/png" href="/favicon-32x32.png">
  <link rel="icon" sizes="32x32" type="images/png" href="/favicon-16x16.png">
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" type="text/css" href="/main.css">
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml">
</head>

<body>
  <header>
    <img class="avatar" src="/av.jpg" alt="Dimitry Ivanov">
    <h1 style="margin-bottom: 0.25em; font-family: monospace">Di's blog</h1>
    <div>
      <a class="header-icon" href="https://github.com/noties"><svg viewBox="0 0 16 16" width="16px" height="16px" xmlns="http://www.w3.org/2000/svg">
          <path class="svg-path" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z" /></svg></a>
      <a class="header-icon" href="https://linkedin.com/in/dimitryivanov"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16px" height="16px">
          <path id="path28_1_" d="M 6.54 21.559 L 6.54 8.66 L 2.253 8.66 L 2.253 21.559 L 6.54 21.559 Z M 4.398 6.898 C 5.892 6.898 6.823 5.908 6.823 4.67 C 6.795 3.404 5.892 2.441 4.426 2.441 C 2.959 2.441 2 3.404 2 4.67 C 2 5.908 2.93 6.898 4.369 6.898 L 4.398 6.898 Z" class="svg-path" stroke-width="0.123663656" />
          <path id="path30_1_" d="M 8.913 21.559 L 13.201 21.559 L 13.201 14.355 C 13.201 13.97 13.229 13.584 13.342 13.309 C 13.651 12.538 14.357 11.741 15.541 11.741 C 17.093 11.741 17.713 12.924 17.713 14.658 L 17.713 21.559 L 22 21.559 L 22 14.162 C 22 10.2 19.885 8.357 17.064 8.357 C 14.752 8.357 13.736 9.649 13.172 10.53 L 13.201 10.53 L 13.201 8.66 L 8.913 8.66 C 8.97 9.87 8.913 21.559 8.913 21.559 Z" class="svg-path" stroke-width="0.123663656" />
        </svg></a>
      <a class="header-icon" href="mailto:di@noties.io"><svg fill="#828282" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
          <path class="svg-path" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" />
          <path d="M0 0h24v24H0z" fill="none" />
        </svg></a>
      <a class="header-icon" href="/rss.xml"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
          <path fill="none" d="M0 0h24v24H0z" />
          <circle class="svg-path" cx="6.18" cy="17.82" r="2.18" />
          <path class="svg-path" d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z" />
        </svg></a>
    </div>
  </header>
  <main>
    <div class="container">
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2021/05/14/live-template-enumerate/index.html">Automatic variable name for logging</a></h2>
        <div class="page-item-content">
          <p>Logging variables in Java or Kotlin in most of the cases end up with duplicated content - one have to specify variable name first and then the variable itself:</p>
          <pre><code class="language-kotlin">Debug<span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">"index: <span class="token interpolation variable">$index</span>, value: <span class="token interpolation variable">$value</span>, direction: <span class="token interpolation"><span class="token delimiter variable">${</span>vector<span class="token punctuation">.</span>direction<span class="token delimiter variable">}</span></span>"</span><span class="token punctuation">)</span>
</code></pre>
          <pre><code class="language-java"><span class="token class-name">Debug</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">"index: %s, value: %s, direction: %s"</span><span class="token punctuation">,</span> index<span class="token punctuation">,</span> value<span class="token punctuation">,</span> vector<span class="token punctuation">.</span>direction<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
          <p>Typing each variable twice takes time, slows down and seem to have a room for improvement. What if...</p>
          <p><img src="/assets/gif/live-enumerate.gif" alt="Enumerate with Live Templates" /></p>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2021/05/14/live-template-enumerate/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2020/10/01/enhance-android-11/index.html">Android 11 API changes</a></h2>
        <div class="page-item-content">
          <p>This is a <em>raw</em> changelog for the Android 11 API created with the <a href="https://github.com/noties/Enhance">Enhance</a> library.</p>
          <ul>
            <li><code>Build.VERSION_CODES</code> still appends new versions as letters, so now we have <code>R</code>, which is API level <code>30</code>, which is Android <code>11</code>, which is very confusing</li>
            <li><code>Activity</code> and <code>View</code> still growing strong üí™</li>
            <li><code>AsyncTask</code> and <code>IntentService</code> are deprecated, good bye old friends</li>
            <li>24 entries added and deprecated within the same <code>R,30,11</code> (search for the <code>-+</code>)</li>
          </ul>
          <br>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2020/10/01/enhance-android-11/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2019/12/10/kotlin-even-more-fun/index.html">Kotlin is even more fun now!!</a></h2>
        <div class="page-item-content">
          <p>The <a href="https://blog.jetbrains.com/kotlin/2019/12/what-to-expect-in-kotlin-1-4-and-beyond/">1.4 Kotlin</a> announcement contains multiple features. Among them there is the <a href="https://blog.jetbrains.com/kotlin/2019/12/what-to-expect-in-kotlin-1-4-and-beyond/#language-features">SAM conversion</a> for Kotlin interfaces (previously applicable for Java interfaces only). And it's definitely a <em>fun</em> addition to the language. And it's really <em>funny</em> (try not to <em>fun</em>!):</p>
          <pre><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token keyword">interface</span> Action <span class="token punctuation">{</span>
  <span class="token keyword">fun</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
          <p>As much as I <em>fun</em> the nice and warm <em>fun</em> that fills me when working with Kotlin <em>fun</em>, I would still like to see an expansion of emotion spectrum available though. Dear Kotlin team we still need <em>love</em>, <em>friendship</em>, <em>honesty</em>, <em>truth</em>, <em>joy</em>, <em>trust</em>, <em>care</em>, <em>empathy</em> and <em>hope</em>. And those, when added, can become a constant reminder for a developer to become a better person meanwhile maintaining productive and professional environment. Let's make the world a better <em>fun</em>!</p>
          <p>&lt;/s&gt;</p>
        </div>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2019/12/02/enhance-android-api-statistics/index.html">Android 10 API changes</a></h2>
        <div class="page-item-content">
          <p>With the latest <a href="https://github.com/noties/Enhance">Enhance</a> update to support Android 10 I decided to extract API changes that had happened on the public surface - what classes/fields/methods were added or deprecated (sometimes both! - search for the <code>-+</code> sequence).</p>
          <p>There are few things that I had noticed:</p>
          <ul>
            <li>Activity, View and TextView are still growing, great!</li>
            <li>There are 11 entities that were both added and deprecated in Android 10 (again ‚Äî <code>-+</code> to look up)</li>
            <li>There are newly deprecated methods inside already deprecated classes (for example <code>Fragment</code> was deprecated in Pie (28), but all of its' methods are deprecated in Android 10)</li>
            <li>Deprecation of <code>android.preference.*</code> (it seems that the main <em>user</em> of this package was system <code>Settings</code> app, what will it use instead - <code>androidx</code> artifact ü§î?)</li>
            <li><code>NetworkInfo</code> is deprecated (and so as a quick way to check if a device has a network connection - <a href="https://developer.android.com/reference/android/net/ConnectivityManager.NetworkCallback">NetworkCallback</a> must be used instead, which doesn't seem very convenient)</li>
            <li><code>Build.VERSION_CODES.Q</code> is there (check out the javadoc!)</li>
            <li><code>DynamicDrawableSpan.ALIGN_CENTER</code>! Previously only <code>ALIGN_BOTTOM</code> and <code>ALIGN_BASELINE</code> were available</li>
          </ul>
          <p>So, here is the gist of API changes in Android 10:</p>
          <pre><code class="language-diff">android/Manifest$permission
<span class="token inserted">+   ACCESS_BACKGROUND_LOCATION</span>
<span class="token inserted">+   ACCESS_MEDIA_LOCATION</span>
<span class="token inserted">+   ACTIVITY_RECOGNITION</span>
<span class="token inserted">+   BIND_CALL_REDIRECTION_SERVICE</span>
<span class="token inserted">+   BIND_CARRIER_MESSAGING_CLIENT_SERVICE</span>
<span class="token inserted">+   CALL_COMPANION_APP</span>
<span class="token deleted">-   PROCESS_OUTGOING_CALLS</span>
<span class="token inserted">+   REQUEST_PASSWORD_COMPLEXITY</span>
<span class="token inserted">+   SMS_FINANCIAL_TRANSACTIONS</span>
<span class="token inserted">+   START_VIEW_PERMISSION_USAGE</span>
<span class="token inserted">+   USE_FULL_SCREEN_INTENT</span>
</code></pre>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2019/12/02/enhance-android-api-statistics/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2019/08/19/sqlite-toggle-boolean/index.html">How to toggle boolean in SQLite</a></h2>
        <div class="page-item-content">
          <p>Okay, <a href="https://www.sqlite.org/datatype3.html">SQLite doesn't have a separate Boolean datatype</a>, but it's not uncommon to use an <code>INTEGER</code> to store one. How can we <em>toggle</em> this value in a single SQL statement without retrieving stored value first?</p>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2019/08/19/sqlite-toggle-boolean/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2019/08/12/emotion-layout/index.html">EmotionLayout</a></h2>
        <div class="page-item-content">
          <p>I've stumbled upon an interesting UI effect by <a href="https://twitter.com/chrisbanes/status/1029619278863945728">Chris Banes</a> implemented with <code>MotionLayout</code>. Unfortunately... well. Unfortunately it's <code>MotionLayout</code>, so <em>motions</em> are defined in XML scene files sprinkled with constrains and references to views. If you haven't seen one ‚Äî go ahead and see <a href="https://github.com/chrisbanes/tivi/blob/3c1ce720ed4bda2c2d3d28320ae0e66a6701e402/app/src/main/res/xml/scene_show_details.xml">the one that defines UI effect in question</a>. Now, there must be a simpler way...</p>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2019/08/12/emotion-layout/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2019/07/25/psvm/index.html">public static void main for Android</a></h2>
        <div class="page-item-content">
          <p>Sometimes I find myself wanting to evaluate some Android code without launching an app on a device or an emulator (and without adding log statements in random components). For example Java has a <code>public static void main</code> method that can be added in any class and launched right from the IDE. Can this be done for Android?</p>
          <pre><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">Activity</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token class-name">String</span> input <span class="token operator">=</span> <span class="token string">"tel:+34 666 55 52 22"</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"input: %s, uri: %s%n"</span><span class="token punctuation">,</span> input<span class="token punctuation">,</span> <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
          <p>Unfortunately this will fail with <em>somewhat</em> famous exception:</p>
          <pre><code class="language-javastacktrace"><span class="token summary"><span class="token keyword">Exception in thread</span> <span class="token string">"main"</span> <span class="token exceptions"><span class="token namespace">java</span><span class="token punctuation">.</span><span class="token namespace">lang</span><span class="token punctuation">.</span><span class="token class-name">RuntimeException</span></span><span class="token punctuation">:</span> <span class="token message string">Stub!</span></span>
<span class="token stack-frame">	<span class="token keyword">at</span> <span class="token namespace">android</span><span class="token punctuation">.</span><span class="token namespace">net</span><span class="token punctuation">.</span><span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token source"><span class="token file">Uri.java</span><span class="token punctuation">:</span><span class="token line-number number">293</span></span><span class="token punctuation">)</span></span>
<span class="token stack-frame">	<span class="token keyword">at</span> <span class="token namespace">io</span><span class="token punctuation">.</span><span class="token namespace">noties</span><span class="token punctuation">.</span><span class="token namespace">psvm</span><span class="token punctuation">.</span><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token source"><span class="token file">MainActivity.java</span><span class="token punctuation">:</span><span class="token line-number number">11</span></span><span class="token punctuation">)</span></span>
</code></pre>
          <p>This happens because our code is compiled with <code>android.jar</code> dependency (that can be found in <code>$ANDROID_SDK/platforms/android-${version}/android.jar</code>) that has only public API definitions. All API method signatures are present but their bodies contain a single statement: <code>throw new RuntimeException(&quot;Stub!&quot;)</code>. <code>android.jar</code> here is a <em>runtime</em> dependency. We still can operate on public API during development, but actual implementation is provided by a device or an emulator when an app is launched.</p>
          <p>I labeled the <code>java.lang.RuntimeException: Stub!</code> as <em>somewhat</em> famous because you might've seen it whilst trying to launch java unit tests that contain Android code. This problem is long gone with the help of amazing <a href="http://robolectric.org">Robolectric</a> testing framework. But wait... this must mean that Robolectric has a proper <code>android.jar</code> with all the methods present. Can we use it?</p>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2019/07/25/psvm/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2019/07/18/google-pixel/index.html">Google Pixel</a></h2>
        <div class="page-item-content">
          <p>The more you think about it the more it becomes obvious that <strong>Google Pixel</strong> is a perfect name for a Google brand. Especially if you take into account the <a href="https://en.wikipedia.org/wiki/Web_beacon">tracking pixels</a> that are so wide-spread in web-pages you visit or emails you read. Only this time data collection is taken to a truly next level closing the gap between physical and digital world. Precise geolocation, MAC addresses of networking hardware, available Wi-Fi networks, nearby cell towers, non-stop audio recording, access to photo cameras, behavioral patterns, VPN configs and true IP addresses and much-much more were <em>still</em> not available to web pages. Until the true Pixel emerged...</p>
        </div>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2019/05/18/gradient-messenger-round-2/index.html">Gradient Messenger Round 2</a></h2>
        <div class="page-item-content">
          <p>In the <a href="/blog/2019/04/23/gradient-messenger/index.html">previous</a> article we've implemented gradient background with fixed scrolling behavior. Similar effect can be seen in the Fa¬¢ebook Messenger app. Now it's the time to give our app some UI polish - we will add rounded corners to chat messages and introduce messages <em>grouping</em>. Most of the changes will happen in our custom <code>RecyclerView.ItemDecoration</code> which source can be found <a href="https://github.com/noties/BlogProjects/blob/master/02-GradientMessengerRound/app/src/main/java/io/noties/blog/gradientmessenger/MessageDecoration.kt">here</a>. As a bonus point we will make our <code>RecyclerView.ItemDecoration</code> ready for <code>RecyclerView.ItemAnimator</code> animations.</p>
          <video controls="true" loop poster="/assets/video/gradient-messenger-round-2-preview.jpg">
            <source src="/assets/video/gradient-messenger-round-2.mp4" type="video/mp4"> You browser does not support mp4 playback, try downloading video file <a href="/assets/video/gradient-messenger-round-2.mp4">directly</a>
          </video>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2019/05/18/gradient-messenger-round-2/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2019/05/13/kotlin-is-fun/index.html">Kotlin is fun!!</a></h2>
        <div class="page-item-content">
          <style type="text/css">
.kif-code {
  background-color: #2b2b2b;
  width: 100%;
  height: 16rem;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Menlo', 'Monaco', 'Courier New', Courier, monospace;
  font-size: 2rem;
  color: #a9b7c6;
}

.kif-keyword {
  color: #cc7832;
}

.kif-error {
  text-decoration: none;
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAFBAMAAACUdoDVAAAABGdBTUEAALGPC/xhBQAAAA9QTFRFUjU0ljw7ukA/dDk4MjIyEYy0kgAAABxJREFUCNdjcHFwYXAxMmFwVlRmEDIxYlB2cQYAIMoDHG20V3sAAAAASUVORK5CYII=) repeat-x;
  background-position: bottom;
}
          </style>
          <div class="kif-code">
            <div>
              <span>kotlin </span><span class="kif-keyword"><span>is</span> <span class="kif-error" title="Type expected">f</span><span>un</span></span><span class="kif-error" title="Expecting function name or receiver type&#13;Expecting '('&#13;Unexpected tokens (use ';' to separate expressions on the same line)">!!</span>
            </div>
          </div>
        </div>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2019/04/23/gradient-messenger/index.html">Gradient Messenger</a></h2>
        <div class="page-item-content">
          <p>In this article we will reproduce fixed gradient background for chat messages. Similar effect can be seen in the Fa¬¢ebook Messenger application. We will use custom <code>Drawable</code>, <code>RecyclerView</code> and <code>RecyclerView.ItemDecoration</code>.</p>
          <video controls="true" loop poster="/assets/video/gradient-messenger-preview.jpg">
            <source src="/assets/video/gradient-messenger.mp4" type="video/mp4"> You browser does not support mp4 playback, try downloading video file <a href="/assets/video/gradient-messenger.mp4">directly</a>
          </video>
          <p>TL;DR: <a href="https://github.com/noties/BlogProjects/tree/master/01-GradientMessenger">browse the source code</a></p>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2019/04/23/gradient-messenger/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2018/09/10/we-have-everything/index.html">We have everything</a></h2>
        <div class="page-item-content">
          <p>We have:</p>
          <ul>
            <li>interesting tasks</li>
            <li>cutting edge tech</li>
            <li>cross functional teams</li>
            <li>team leads</li>
            <li>human resources heads</li>
            <li>talent hunters</li>
            <li>QA</li>
            <li>product managers</li>
            <li>product owners</li>
            <li>vision bearers</li>
            <li>keepers of team spirit</li>
            <li>meetupsÕô</li>
            <li>hÃ∫ÕíackaÕ†tÃÉonÕ¢sÃö</li>
            <li>fÃµree snÕ≠acks</li>
            <li>cÕ≠ÃØÃåÕ§ofÕØÃùfÕöee</li>
            <li><del>ama</del>ziÕ°ÃØng openÕ© offÃΩÃ¨iÕúc<i>e</i></li>
            <li>scÕär<b>umÃÇ</b> mÃ±aÕ¢steÃérs</li>
            <li>agÕòiÕäle eÃònÕòÃπÃïthu<s>siÕ´Õ°aÃΩÕâÕñsts</s></li>
            <li>advÕÖocaÃõÃöÃ´ÕûtsÕåÃñ of <b>whÃåaÕûÃÜt-<i>not</i></b></li>
            <li><b>nÃ∏ÕÇoÕÜÃèthiÃånÃ≥g worÕëksÃà!</b></li>
            <li><b><i>noÃ¨thÃöÕ•iÃïn“âÃ¨ÃØgÕÖ wÕ®orkÕöÕúÃèsÃµÕîÕ°?</i></b></li>
          </ul>
        </div>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2018/07/28/complex-android-animations/index.html">Complex Android animations - Tutorial</a></h2>
        <div class="page-item-content">
          <p>Achieving complex animations on Android might be a daunting task. Especially when an arbitrary number of views are involved and/or they have specific ordering (one-after-another, grouping, delays, etc). Using built-in <code>ValueAnimator</code>, <code>ObjectAnimator</code>, <code>ViewPropertyAnimator</code> or <code>AnimatorSet</code> would result in untangled mess of callbacks and won't be extensible, easy to <em>tweak</em> nor maintain.</p>
          <p><img src="/assets/gif/tumbleweed/10-expand_sequential.gif" alt="gif" /></p>
          <p>This tutorial will show how to achieve complex animations in a clean and easy way in just few lines of code.</p>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2018/07/28/complex-android-animations/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2018/03/24/local-maven-repo/index.html">Local Maven repository</a></h2>
        <div class="page-item-content">
          <p>With a little help of Gradle one can have a local Maven repository literally with a single line of code in the build configuration file:</p>
          <pre><code class="language-groovy">repositories <span class="token punctuation">{</span>
    maven <span class="token punctuation">{</span> url <span class="token string">'file:///Users/me/.maven-local'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
          <p>It can be used to <em>release</em> your local artifacts also. For example, if you are using <a href="https://github.com/chrisbanes/gradle-mvn-push">gradle-mvn-push</a>:</p>
          <pre><code class="language-groovy"><span class="token keyword">if</span> <span class="token punctuation">(</span>project<span class="token operator">.</span><span class="token function">hasProperty</span><span class="token punctuation">(</span><span class="token string">'local'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ext<span class="token operator">.</span>RELEASE_REPOSITORY_URL <span class="token operator">=</span> <span class="token string">'file:///Users/me/.maven-local'</span>
<span class="token punctuation">}</span>
</code></pre>
          <pre><code class="language-noop">./gradlew upA -Plocal
</code></pre>
          <p><em>BTW <code>upA</code> here stands for <code>uploadArchives</code> but Gradle allows us to shorten task name a bit</em></p>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2018/03/24/local-maven-repo/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2018/01/31/enhance/index.html">Enhance Android source code for developers</a></h2>
        <div class="page-item-content">
          <p>It's actually a follow-up of the previous <a href="/blog/2018/01/28/since-tag/index.html">@since tag to Android source distribution</a>. Turned out this can be done by ourselves (plus a bit more). Here is the final result:</p>
          <pre><code class="language-java"><span class="token comment">/**
 * Called by the system when the activity changes from fullscreen mode to multi-window mode and
 * visa-versa.
 *
 * @see android.R.attr#resizeableActivity
 * @param isInMultiWindowMode True if the activity is in multi-window mode.
 * @deprecated Use {@link #onMultiWindowModeChanged(boolean, Configuration)} instead.
 * @since 7.0 Nougat (24)
 * @deprecated 8.0 Oreo (26)
 */</span>
<span class="token annotation punctuation">@Deprecated</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMultiWindowModeChanged</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> isInMultiWindowMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Left deliberately empty. There should be no side effects if a direct</span>
    <span class="token comment">// subclass of Activity does not call super.</span>
<span class="token punctuation">}</span>
</code></pre>
          <p>TLDR: <a href="https://github.com/noties/Enhance">Enhance!</a></p>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2018/01/31/enhance/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2018/01/28/since-tag/index.html">@since tag to Android source distribution</a></h2>
        <div class="page-item-content">
          <p>Some time ago I come up with simple enhancement for the Android source code that is distributed via SDK Manager: adding the <code>@since</code> javadoc tag to the public API.</p>
          <p>Just imagine:</p>
          <pre><code class="language-java"><span class="token comment">/**
* Sets a rectangular area on this view to which the view will be clipped
* when it is drawn. Setting the value to null will remove the clip bounds
* and the view will draw normally, using its full bounds.
*
* @param clipBounds The rectangular area, in the local coordinates of
* this view, to which future drawing operations will be clipped.

* @since 4.3 (18)
*/</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setClipBounds</span><span class="token punctuation">(</span><span class="token class-name">Rect</span> clipBounds<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre>
          <p><a href="https://issuetracker.google.com/issues/37754348">Issue</a> on the bug tracker.</p>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2018/01/28/since-tag/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2018/01/28/newtons-cradle-drawable/index.html">Newton's Cradle Drawable (Tumbleweed Android)</a></h2>
        <div class="page-item-content">
          <p><img src="/assets/gif/newton-cradle.gif" alt="gif" /></p>
          <p>Implementation steps to create Newton's Cradle drawable for Android.</p>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2018/01/28/newtons-cradle-drawable/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2018/01/26/square-frame-layout/index.html">Square Frame Layout</a></h2>
        <div class="page-item-content">
          <p>A simple implementation of <code>FrameLayout</code> to be used in a <code>RecyclerView</code> with a <code>GridLayoutManager</code> in order to achieve square shaped layout. Does not depend on external dimensions. Will always be square even if you change <code>spanCount</code> at runtime.</p>
          <pre><code class="language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onMeasure</span><span class="token punctuation">(</span><span class="token keyword">int</span> widthMeasureSpec<span class="token punctuation">,</span> <span class="token keyword">int</span> heightMeasureSpec<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// to be continued...</span>
</code></pre>
        </div>
        <a class="page-item-excerpt-label" href="/blog/2018/01/26/square-frame-layout/index.html#excerpt-continue">Continue</a>
      </div>
      <div class="page-item">
        <h2 class="page-item-title"><a href="/blog/2018/01/23/grid-items-equal-spacing-recyclerview/index.html">Grid items equal spacing (RecyclerView)</a></h2>
        <div class="page-item-content">
          <p>This is how to achieve equal spacing between grid elements and <code>RecyclerView</code> borders. Applicable for both <code>GridLayoutManager</code> and <code>StaggeredGridLayoutManager</code>. No modification of existing <code>Adapter</code> is required.</p>
          <img src="/assets/images/recycler_grid_2.png" alt="2 columns" width="30%" />
          <img src="/assets/images/recycler_grid_3.png" alt="3 columns" width="30%" />
          <img src="/assets/images/recycler_grid_4.png" alt="4 columns" width="30%" />
        </div>
        <a class="page-item-excerpt-label" href="/blog/2018/01/23/grid-items-equal-spacing-recyclerview/index.html#excerpt-continue">Continue</a>
      </div>
    </div>
  </main>
  <footer>
    <div class="footer-content">
      <div style="margin-bottom: 1em;">&copy; Dimitry Ivanov</div>
      <div class="footer-ref"><svg viewBox="0 0 16 16" width="16px" height="16px" xmlns="http://www.w3.org/2000/svg">
          <path class="svg-path" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z" /></svg> <a href="https://github.com/noties">github.com/noties</a></div>
      <div class="footer-ref"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16px" height="16px">
          <path id="path28_1_" d="M 6.54 21.559 L 6.54 8.66 L 2.253 8.66 L 2.253 21.559 L 6.54 21.559 Z M 4.398 6.898 C 5.892 6.898 6.823 5.908 6.823 4.67 C 6.795 3.404 5.892 2.441 4.426 2.441 C 2.959 2.441 2 3.404 2 4.67 C 2 5.908 2.93 6.898 4.369 6.898 L 4.398 6.898 Z" class="svg-path" stroke-width="0.123663656" />
          <path id="path30_1_" d="M 8.913 21.559 L 13.201 21.559 L 13.201 14.355 C 13.201 13.97 13.229 13.584 13.342 13.309 C 13.651 12.538 14.357 11.741 15.541 11.741 C 17.093 11.741 17.713 12.924 17.713 14.658 L 17.713 21.559 L 22 21.559 L 22 14.162 C 22 10.2 19.885 8.357 17.064 8.357 C 14.752 8.357 13.736 9.649 13.172 10.53 L 13.201 10.53 L 13.201 8.66 L 8.913 8.66 C 8.97 9.87 8.913 21.559 8.913 21.559 Z" class="svg-path" stroke-width="0.123663656" />
        </svg> <a href="https://linkedin.com/in/dimitryivanov">linkedin.com/in/dimitryivanov</a></div>
      <div class="footer-ref"><svg fill="#828282" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
          <path class="svg-path" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" />
          <path d="M0 0h24v24H0z" fill="none" />
        </svg> <a href="mailto:di@noties.io">di@noties.io</a></div>
    </div>
  </footer>
  <script>
const videos = document.querySelectorAll('video');
if (videos && videos.length > 0) {
  // https://stackoverflow.com/a/7557433/6745174
  const isElementInViewPort = (element) => {
    const rect = element.getBoundingClientRect();
    const viewPort = {
      left: 0,
      top: 0,
      right: (window.innerWidth || document.documentElement.clientWidth),
      bottom: (window.innerHeight || document.documentElement.clientHeight)
    }
    console.log(element, rect, viewPort);
    // we should look for overlapping, so if a part is visible in view-port, we
    // consider element to be also visible
    return (
      (rect.left < viewPort.right) && (viewPort.left < rect.right) && (rect.top < viewPort.bottom) && (viewPort.top < rect.bottom));
  };
  const isPlaying = (element) => {
    return (element.currentTime > 0 && !element.paused && !element.ended);
  };
  const handler = (event) => {
    for (video of videos) {
      if (isPlaying(video) && !isElementInViewPort(video)) {
        video.pause()
      }
    }
  };
  window.addEventListener('DOMContentLoaded', handler);
  window.addEventListener('load', handler);
  window.addEventListener('resize', handler);
  window.addEventListener('scroll', handler);
}
  </script>
</body>

</html>